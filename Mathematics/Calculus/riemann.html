---
layout: default
title: Riemann Integration
topic_id: calc-10
level: detail 
uses_math: true
uses_python: false
---
<!DOCTYPE html>
<html>
    <body>
        {% include learning_resource_schema.html topic_id=page.topic_id %}
        
        <div class="hero-section">
            <h1 class="webpage-name">Riemann Integration</h1>
        </div>

        {% include section_navigation.html %}

        <div class="topic-nav">
            <a href="#rieman">Riemann Integration</a>
            <a href="#i_rieman">Improper Riemann Integration</a>
            <a href="#limit">Limitation of the (Improper) Riemann integration</a>
        </div> 

        <div class="container">  
           
            <section id="rieman" class="section-content">
                <h2>Riemann Integration</h2>

                <p>
                    The <strong>Riemann Integral</strong> is the standard "grid-based" approach to integration taught in introductory calculus. 
                    It relies on partitioning the <strong>domain</strong> (\(x\)-axis) into increasingly fine intervals to approximate the area under a curve. 
                    While intuitive, this method is fundamentally tied to the geometry of intervals, which limits its ability to handle functions defined on more 
                    complex sets or those with highly irregular structures. Understanding these limitations is the primary motivation for 
                    moving toward <strong>Measure Theory</strong>.
                </p>

                <p>
                    To begin our formalization, we must first define how we "slice" the input space. This is achieved through the concept of a 
                    partition, which divides a continuous interval into a finite set of discrete sub-segments.
                </p>
                            
                <div class="theorem">
                    <span class="theorem-title">Definition: Partition and Subintervals</span>
                    <p>
                        Let \(f: [a, b] \to \mathbb{R} \) be a bounded function on a closed interval \([a, b]\).
                        A <strong>partition</strong> \(\mathcal{P}\) of \([a, b]\) is a finite sequence of points:
                        \[
                        \mathcal{P} = \{x_0, x_1, x_2, \cdots, x_n\}
                        \]
                        where \(a = x_0 < x_1 < x_2 < \cdots < x_n = b\). The resulting <strong>subintervals</strong> 
                        are \([x_{i-1}, x_i]\) for \(i = 1, \cdots, n\).
                    </p>
                </div>

                <p>
                    Once we have partitioned the domain, we need a way to approximate the function's behavior within each 
                    sub-segment. By taking the extreme values (the supremum and infimum) of the function on each interval, 
                    we can construct two bounding rectangles that "sandwich" the true area.
                </p>
               
                <div class="theorem">
                    <span class="theorem-title">Definition: Lower & Upper Sums</span>
                    <p>
                        For each subinterval, let \(m_i\) be the <strong>infimum</strong> (greatest lower bound) and \(M_i\) be the 
                        <strong>supremum</strong> (least upper bound) of \(f(x)\):
                        \[
                        \begin{align*}
                        m_i &= \inf_{x\in [x_{i-1}, x_i]} f(x), \\\\
                        M_i &= \sup_{x\in [x_{i-1}, x_i]} f(x).
                        \end{align*}
                        \]
                        Moreover, we define the <strong>Lower Sum</strong> \(L(f, \mathcal{P})\) and <strong>Upper Sum</strong> 
                        \(U(f, \mathcal{P})\) as:
                        \[
                        \begin{align*}
                        L(f, \mathcal{P}) &= \sum_{i=1}^n m_i (x_i - x_{i-1}), \\\\ 
                        U(f, \mathcal{P}) &= \sum_{i=1}^n M_i (x_i - x_{i-1}).
                        \end{align*}
                        \]   
                    </p>
                </div>

                <p>
                    Integrability is achieved when these upper and lower bounds converge to the same value as we refine our partition. 
                    This convergence implies that the "gap" between our overestimation and underestimation vanishes, leaving us with a 
                    unique value for the area.
                </p>

                <div class="theorem">
                    <span class="theorem-title">Definition: Riemann Integrability</span>
                    <p>
                        The <strong>lower Riemann integral</strong> and the <strong>upper Riemann integral</strong> of \(f\) over \([a, b]\) are 
                        as follows respectively:
                        \[
                        \begin{align*}
                        &\underline{\int_a^b} f(x)dx = \sup_{\mathcal{P}}  L(f, \mathcal{P}), \\\\
                        &\overline{\int_a^b} f(x)dx = \inf_{\mathcal{P}}  U(f, \mathcal{P}).
                        \end{align*}
                        \]
                        Then, a function \(f\) is said to be <strong>Riemann integrable</strong> on \([a, b]\) if 
                        \[
                        \underline{\int_a^b}  f(x)dx  = \overline{\int_a^b}  f(x)dx = \alpha.
                        \]
                        When this holds, the common value \(\alpha\) is called the <strong>Riemann integral</strong> of \(f\) over \([a, b]\):
                        \[
                        \int_a^b f(x)dx = \alpha.
                        \]
                    </p>
                </div>

                <p>
                    In practice, we often describe this refinement process using the <strong>norm</strong> of the partition, denoted as 
                    \(\| \mathcal{P} \|\), which represents the width of the largest sub-segment. As this width approaches zero, the Riemann 
                    sums converge to the integral.
                </p>

                <div class="theorem">
                    <span class="theorem-title">Theorem: Convergence via Partition Norm</span>
                    <p>
                        Let \( \| \mathcal{P} \| = \max_{1 \leq i \leq n} (x_i - x_{i-1}) \). A bounded function \(f\) is Riemann integrable 
                        on \([a, b]\) if and only if:
                        \[
                        \lim_{ \| \mathcal{P} \| \to 0}  L(f, \mathcal{P}) = \lim_{ \| \mathcal{P} \| \to 0}  U(f, \mathcal{P}) = \alpha.
                        \]
                    </p>
                </div>

                <p>
                    Understanding when a function is integrable is key. While some properties are strict requirements (necessary conditions), 
                    others provide a guarantee that the integral exists (sufficient conditions).
                </p>

                <div class="theorem">
                    <span class="theorem-title">Requirements and Sufficient Conditions</span>
                    <ul style="padding-left: 40px;">
                        <li><strong>Necessary Condition (Boundedness):</strong><br>
                            If \(f\) is Riemann integrable, it must be bounded. An unbounded function cannot be Riemann integrable in the classical sense.</li>
                        <li><strong>Sufficient Condition (Continuity):</strong><br>
                            If \(f\) is continuous on \([a, b]\), it is guaranteed to be Riemann integrable.</li>
                        <li><strong>Sufficient Condition (Monotonicity):</strong><br>
                            If \(f\) is monotonic on \([a, b]\), it is guaranteed to be Riemann integrable, even if it has many points of discontinuity.</li>
                    </ul>
                </div>

                <p>
                    However, the Riemann integral has its limits â€” specifically when dealing with functions that are "too" discontinuous or 
                    intervals that are unbounded. To address these, we must extend our toolkit to include improper integrals.
                </p>

            </section>

            <section id="i_rieman" class="section-content">
                <h2>Improper Riemann Integration</h2>
                <p>
                    In many cases, especially in statistics, a function may fail to be Riemann integrable due to unbounded intervals or 
                    singularities. However, such functions can often still be integrated using the <strong>improper Riemann integral</strong>, 
                    which extends the classical Riemann integral by incorporating limits to handle these issues. Fortunately, the improper 
                    Riemann integral covers a wide range of integrals commonly encountered in statistics and machine learning.
                </p>

                <p>
                    <strong>Case 1: One side of the interval is unbounded</strong><br><br>
                    Let \(f: [a, \infty) \to \mathbb{R} \) be a function. \(f\) is <strong>improperly integrable</strong> as follows:
                    \[
                    \int_a^{\infty} f(x)dx = \lim_{b \to \infty} \int_a^b f(x)dx.
                    \]
                    if the limit exists and is finite. Similarly, for \(f: (-\infty, b] \to \mathbb{R} \), 
                    \[
                    \int_{-\infty}^b f(x)dx = \lim_{a \to -\infty} \int_a^b f(x)dx.
                    \]
                </p>

                <div class="proof">
                    <span class="proof-title">Example:</span>
                    \[
                    \int_0^{\infty} e^{-x} dx = \lim_{b \to \infty} \int_0^b e^{-x} dx = 1
                    \].
                </div>

                <p>
                    <strong>Case 2: Both sides of the interval are unbounded</strong><br><br>
                    For a function \(f: \mathbb{R} \to \mathbb{R}\), we define the integral over the entire real line by splitting it at any real number \(c\) (commonly \(c = 0\)):
                    \[
                    \int_{-\infty}^{\infty} f(x)dx = \int_{-\infty}^c f(x)dx + \int_c^{\infty} f(x)dx
                    \]
                    More formally, this is defined using two <strong>independent</strong> limits:
                    \[
                    \int_{-\infty}^{\infty} f(x)dx = \lim_{a \to -\infty} \int_a^c f(x)dx + \lim_{b \to \infty} \int_c^b f(x)dx
                    \]
                    The integral exists (converges) <strong>if and only if both</strong> limits exist and are finite independently.
                </p>

                <div class="proof">
                    <span class="proof-title">Example: Divergence and Cauchy Principal Value</span>
                    A classic example is the <a href="../Probability/gaussian.html"><strong>Gaussian integral</strong></a>:
                    \[
                    \int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}.
                    \]
                    <strong>Important Caution:</strong> The improper integral is <strong>not</strong> defined as \(\lim_{R \to \infty} \int_{-R}^{R} f(x) dx\). That symmetric limit is known as the <strong>Cauchy Principal Value</strong>, which can exist even when the improper integral does not. Consider \(f(x) = \frac{x}{1+x^2}\):
                    \[
                    \begin{align*}
                    \int_{-\infty}^{\infty} \frac{x}{1+x^2}dx &= \lim_{a \to -\infty} \int_a^0 \frac{x}{1+x^2}dx + \lim_{b \to \infty} \int_0^b \frac{x}{1+x^2}dx \\\\
                    &= \lim_{a \to -\infty} \left[ \frac{1}{2}\ln(1+x^2) \right]_a^0 + \lim_{b \to \infty} \left[ \frac{1}{2}\ln(1+x^2) \right]_0^b \\\\
                    &= \lim_{a \to -\infty} \left( -\frac{1}{2}\ln(1+a^2) \right) + \lim_{b \to \infty} \left( \frac{1}{2}\ln(1+b^2) \right)
                    \end{align*}
                    \]
                    As \(a \to -\infty\) and \(b \to \infty\), the two terms diverge in opposite directions, yielding the indeterminate form \(-\infty + \infty\). Therefore, the integral does not converge. This explains why the <a href="../Probability/student.html"><strong>Cauchy distribution</strong></a> has no defined mean.
                    <br><br>
                    Note that the Cauchy principal value \(\lim_{R \to \infty} \int_{-R}^{R} \frac{x}{1+x^2}dx = 0\) by symmetry, which can be misleading if the independent nature of the limits is ignored.
                </div>
                
                <p>
                    <strong>Case 3: Discontinuous somewhere on the interval</strong><br><br>
                    If a function \(f\) has a <strong>singularity</strong> at \(c \in (a, b)\), meaning it is not defined or diverges to infinity at \(c\), 
                    the improper integral is defined as:
                    \[
                    \int_a^b f(x)dx = \lim_{\epsilon \to 0^+} \left(\int_a^{c-\epsilon}f(x)dx + \int_{c+\epsilon}^b f(x)dx \right)
                    \]
                    provided both improper integrals on the right-hand side exist finitely.
                </p>
                <p>
                    Similarly, if the singularity occurs at an endpoint of the interval, we define:
                    \[
                    \int_a^b f(x)dx = \lim_{\epsilon \to 0^+} \int_{\epsilon}^b f(x)dx 
                    \]
                    if \(f\) has a singularity at \(a\), or 
                    \[
                    \int_a^b f(x)dx = \lim_{\epsilon \to 0^+} \int_a^{b - \epsilon} f(x)dx 
                    \]
                    if \(f\) has a singularity at \(b\).
                </p>
                <div class="proof">
                    <span class="proof-title">Example:</span>
                    \[
                    \int_0^1 \frac{1}{\sqrt{x}}dx = \lim_{\epsilon \to 0^+} \int_{\epsilon}^1 \frac{1}{\sqrt{x}} dx = 2
                    \].
                </div>
            </section>

            <section id="limit" class="section-content">
                <h2>Limitation of the (Improper) Riemann integration</h2>
               
                <p>
                    Consider the <strong>Dirichlet function</strong> on \([0, 1]\): 
                    \[
                    f(x)=
                    \begin{cases}
                    1 &\text{if \(x \in \mathbb{Q}\)} \\
                    0 &\text{if \(x \in \mathbb{R} \setminus \mathbb{Q}\)}
                    \end{cases}
                    \]
                </p>

                <p>
                    Since both the rational \(\mathbb{Q}\) and the irrational \(\mathbb{R} \setminus \mathbb{Q}\) numbers are <strong>dense</strong> 
                    in the interval \([0, 1]\), every subinterval \([x_{i-1}, x_i]\) of a partition \(\mathcal{P}\) - no matter how small - contains both. 
                    This leads to the fact that the upper and lower Riemann sums never converge to the same value:
                    <ul style="padding-left: 40px;">
                        <li>For every subinterval, \(M_i = \sup f(x) = 1\).</li>
                        <li>For every subinterval, \(m_i = \inf f(x) = 0\).</li>
                    </ul>
                    Consequently, \(U(f, \mathcal{P}) = 1\) and \(L(f, \mathcal{P}) = 0\) for all partitions, making the function 
                    <strong>not Riemann integrable</strong>.
                </p>

                <p>
                    Moreover, the Dirichlet function is <strong>discontinuous everywhere</strong> in \([0, 1]\). While improper 
                    Riemann integrals can handle isolated discontinuities (such as singularities), they cannot handle an infinite, 
                    dense set of discontinuities like this.
                </p>

                <p>
                    The failure here stems from the Riemann integral's inability to distinguish between the "size" of \(\mathbb{Q}\) 
                    and \(\mathbb{R} \setminus \mathbb{Q}\). While both are dense, <strong>Measure Theory</strong> reveals that 
                    \(\mathbb{Q}\) is a <strong>set of measure zero</strong>. 
                </p>
                <p>
                    The <strong>Lebesgue integral</strong> will allow us to "ignore" these points of measure zero, yielding an integral of 0 
                    for the Dirichlet function - a result that matches our probabilistic intuition that the "weight" of rational points 
                    on the real line is negligible.
                </p>

                <strong>Side Note:</strong>
                <div class="theorem">
                    <span class="theorem-title">Definition: Dense Set</span>
                    <p>
                        A set \(A \subset \mathbb{R}\) is said to be <strong>dense</strong> on \(\mathbb{R}\) if for any 
                        \(x, y \in \mathbb{R}\), there exsits \(a \in A\) such that \(x < a < y\).  
                    </p>
                    <p>
                        Equivalently, every open interval in \(\mathbb{R}\) contains at least one point from \(A\).
                    </p>
                </div>

            </section>
        </div>
        <script src="/js/main.js"></script>
    </body>
</html>